(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{131:function(e,t,a){},132:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),i=a.n(o),s=(a(90),a(91),a(92),a(8)),l=a(5),c=a(11),u=a(9),m=a(10),h=a(75),d=a.n(h),p=(a(93),a(14)),f=a(41),b=a(33),g={bookingInfo:{},tickets:[],orderInfo:{},bookingReference:"",bookingPrice:0};var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_BOOKING_INFO":return Object(b.a)({},e,{bookingInfo:t.value});case"UPDATE_TICKETS":return Object(b.a)({},e,{tickets:t.value});case"UPDATE_ORDER_INFO":return Object(b.a)({},e,{orderInfo:t.value});case"UPDATE_BOOKING_REFERENCE":return Object(b.a)({},e,{bookingReference:t.value});case"UPDATE_BOOKING_PRICE":return Object(b.a)({},e,{bookingPrice:t.value});case"UPDATE_TICKET":var a=e.tickets;return a[t.value.index]=t.value.value,Object(b.a)({},e,{tickets:a});default:return e}},v=Object(f.b)(E),y=(r.a.Component,a(77)),k=a.n(y),N=a(42),O=a.n(N),j=a(157),w=a(158),C=a(156),D=a(151),P=a(152),S=a(150),T=a(153),_=a(154),x=a(155),M=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(w.a,{open:this.props.show,onClose:this.props.onClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(S.a,{id:"alert-dialog-title"},"You must provide all the fields"),r.a.createElement(D.a,null,r.a.createElement(P.a,{id:"alert-dialog-description"},"It looks like you didn't provide all necessary informations belonging to the tickets you want to afford. Please try to fix theses points :"),r.a.createElement(T.a,null,this.props.errors.map(function(e){return r.a.createElement(_.a,{button:!0,key:e},r.a.createElement(x.a,{primary:e}))}))),r.a.createElement(C.a,null,r.a.createElement(j.a,{onClick:this.props.onClose,color:"primary"},"OK")))}}]),t}(r.a.Component),I=a(36),A=a(80),B=a.n(A),R={_url:"",_cache:{},_isDebugMode:!1,get:function(e){var t=this._url+e;return new Promise(function(e,a){fetch(t,{method:"GET",headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json","Content-Type":"application/json"}}).then(function(t){console.log(t),t.json().then(function(t){console.log(t),e(t)}).catch(function(e){a(e)})}).catch(function(e){a(e)})})},post:function(e,t){var a=this._url+e;return new Promise(function(e,n){B.a.post(a,JSON.stringify(t)).then(function(t){console.log(t),e(t)}).catch(function(e){console.error(e),n(e)})})},put:function(e,t){console.log(t);var a=this._url+e;return console.log(a),new Promise(function(e,n){fetch(a,{method:"PUT",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(t){console.log(t),t.json().then(function(t){e(t)}).catch(function(e){n(e)})}).catch(function(e){n(e)})})},patch:function(e,t){var a=this._url+e;return new Promise(function(e,n){fetch(a,{method:"PATCH",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(t){console.log(t),t.json().then(function(t){e(t)}).catch(function(e){n(e)})}).catch(function(e){n(e)})})},delete:function(e,t){var a=this._url+e;return new Promise(function(e,n){fetch(a,{method:"DELETE",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(t){console.log(t),t.json().then(function(t){e(t)}).catch(function(e){n(e)})}).catch(function(e){n(e)})})},getCache:function(){return this._cache}},L=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onNextStepPress=function(){a.setState({isLoading:!0});var e={date:a.state.date,visitorsNumber:0!==a.state.visitorsNumber&&NaN!==a.state.visitorsNumber&&""!==a.state.visitorsNumber&&a.state.visitorsNumber>0&&parseInt(a.state.visitorsNumber,10),ticketType:a.state.ticketType,orderMailing:a.state.orderMailing,orderMailingConfirm:a.state.orderMailingConfirm};a._checkBooking(e)?R.post("/dateisavaiable",{date:e.date}).then(function(t){t.data.data.dateIsEnabled?(a._registerBookingInfo(e),a._registerTickets(e.visitorsNumber),a.props.nextStep()):a.dateIsntAvailableAnymore(),a.setState({isLoading:!1})}).catch(function(e){a.setState({isLoading:!1}),console.error("Erreur survenue dans POST /dateisavailable"),console.error(e)}):a.setState({isLoading:!1})},a.dateIsntAvailableAnymore=function(){alert("Sorry. There is no places anymore for that date. Please chose another one. Thank you.")},a.onErrorsModalClose=function(){a.setState({showErrors:!1})},a.isHalfEnabled=function(){var e=new Date(a.state.date).getDate(),t=(new Date).getDate(),n=(new Date).getHours();return!(e===t&&n>=11)},a._registerBookingInfo=function(e){var t={type:"UPDATE_BOOKING_INFO",value:e};a.props.dispatch(t)},a._registerTickets=function(e){for(var t=[],n=0;n<e;n++)t.push({});var r={type:"UPDATE_TICKETS",value:t};a.props.dispatch(r)},a._checkBooking=function(e){var t=[];return a._ckeckBookingDate(e.date)||t.push("Visit date is invalid"),e.visitorsNumber<=0&&t.push("Visitors number is invalid"),""===e.ticketType&&t.push("Ticket type is invalid"),""!==e.orderMailing&&!1!==a._isEmailValid(e.orderMailing)||t.push("Order email is invalid"),e.orderMailingConfirm!==e.orderMailing&&t.push("You didn't type the same email address"),!(t.length>0)||(a.setState({errors:t,showErrors:!0}),!1)},a._ckeckBookingDate=function(e){return!(0===(e=new Date(e)).getDay()||2===e.getDay()||1===e.getDate()&&4===e.getMonth()||1===e.getDate()&&10===e.getMonth()||25===e.getDate()&&11===e.getMonth()||1===e.getDate()&&0===e.getMonth()||11===e.getDate()&&10===e.getMonth()||14===e.getDate()&&6===e.getMonth()||e<new Date&&e.getDate()!==(new Date).getDate())},a._isEmailValid=function(e){return k.a.validate(e)},a.state={date:new Date,visitorsNumber:0,ticketType:"half",orderMailing:"",orderMailingConfirm:"",showErrors:!1,errors:[],isLoading:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"step"},r.a.createElement("h2",null,"Booking"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control-label required"},"Visit date"),r.a.createElement(O.a,{"data-enable-time":!0,id:"visitDateInput",placeholder:"Please select a date for your visit",options:{dateFormat:"d/m/Y",enableTime:!1,disable:[function(e){return 0===e.getDay()||2===e.getDay()||1===e.getDate()&&4===e.getMonth()||1===e.getDate()&&10===e.getMonth()||25===e.getDate()&&11===e.getMonth()||11===e.getDate()&&10===e.getMonth()||1===e.getDate()&&0===e.getMonth()||14===e.getDate()&&6===e.getMonth()||e<new Date&&e.getDate()!==(new Date).getDate()}]},className:"form-control",value:this.state.date,onChange:function(t){e.setState({date:new Date(t)})}}),r.a.createElement("small",{className:"form-text text-muted",style:{textAlign:"justify"}},"Booking not available on sundays. Closed on Tuesdays, the 1st of May, the 1st of November et le 25th of December.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control-label required"},"Number of visitors"),r.a.createElement("input",{type:"number",className:"form-control",value:this.state.visitorsNumber,onChange:function(t){e.setState({visitorsNumber:t.target.value})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control-label required"},"Ticket type"),r.a.createElement("select",{className:"form-control",value:this.state.ticketType,onChange:function(t){return e.setState({ticketType:t.target.value})}},r.a.createElement("option",{value:"half"},"Half-Day"),r.a.createElement("option",{value:"full",disabled:this.state.date.getDate()===(new Date).getDate()&&(new Date).getHours()>=14},"Full Day")),r.a.createElement("small",{className:"form-text text-muted",style:{textAlign:"justify"}},'The "Half-Day" ticket is only valid from 2pm. Note that you cannot afford a Full-Day ticket from 2pm.')),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control-label required"},"Mailing address of receipt for the ticket(s)"),r.a.createElement("input",{type:"email",className:"form-control",value:this.state.orderMailing,required:!0,onChange:function(t){return e.setState({orderMailing:t.target.value})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control-label required"},"Confirm the email address"),r.a.createElement("input",{type:"email",className:"form-control",required:!0,onChange:function(t){return e.setState({orderMailingConfirm:t.target.value})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary",style:{width:"100%",marginBottom:10},onClick:this.onNextStepPress},this.state.isLoading?r.a.createElement(I.Dots,{color:"white"}):"Next")),r.a.createElement(M,{show:this.state.showErrors,onClose:this.onErrorsModalClose,errors:this.state.errors}))}}]),t}(r.a.Component),F=Object(p.b)(function(e){return e})(L),U=a(49),K=a(55),Y=a.n(K),q=a(81),G=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onFormChanged=function(){var e=Object(q.a)(Y.a.mark(function e(t,n){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="firstName"===e.t0?3:"lastName"===e.t0?5:"birthDate"===e.t0?7:"country"===e.t0?9:"reduction"===e.t0?11:13;break;case 3:return a.setState({firstName:n},function(){a._updateStore()}),e.abrupt("break",14);case 5:return a.setState({lastName:n},function(){a._updateStore()}),e.abrupt("break",14);case 7:return a.setState({birthDate:n},function(){a._updateStore()}),e.abrupt("break",14);case 9:return a.setState({country:n},function(){a._updateStore()}),e.abrupt("break",14);case 11:return a.setState({reduction:!a.state.reduction},function(){a._updateStore()}),e.abrupt("break",14);case 13:return e.abrupt("return");case 14:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a._updateStore=function(){var e={type:"UPDATE_TICKET",value:{index:a.props.index,value:a.state}};a.props.dispatch(e)},a.state={firstName:"",lastName:"",birthDate:new Date,country:"",reduction:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"contained"},r.a.createElement("h5",null,"Beneficiary #",this.props.beneficiaryNumber),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control-label required"},"First name"),r.a.createElement("input",{type:"text",maxLength:"35",className:"form-control",value:this.state.firstName,onChange:function(t){return e.onFormChanged("firstName",t.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control-label required"},"Last Name"),r.a.createElement("input",{type:"text",maxLength:"35",className:"form-control",value:this.state.lastName,onChange:function(t){return e.onFormChanged("lastName",t.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control-label required"},"Birth date"),r.a.createElement(O.a,{"data-enable-time":!0,id:"birthDateInput",placeholder:"We never forgot any birthday",options:{dateFormat:"d/m/Y"},className:"form-control",value:this.state.birthDate,onChange:function(t){return e.onFormChanged("birthDate",t)}}),r.a.createElement("small",{className:"form-text text-muted"},"We'll never share your informations to thirds.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control-label required"},"Country"),r.a.createElement("input",{type:"text",maxLength:"35",className:"form-control",value:this.state.country,onChange:function(t){return e.onFormChanged("country",t.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",checked:this.state.reduction,onChange:function(t){return e.onFormChanged("reduction",t.target.value)}}),r.a.createElement("label",{className:"form-check-label"},"Reduction")),r.a.createElement("small",{className:"form-text text-muted"},"Upon presentation of justificative at the museum entrance")))}}]),t}(r.a.Component),H=Object(p.b)(function(e){return e})(G),W=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onGoToPreviousStepPress=function(e){e.preventDefault(),a.props.goToPrevious()},a.state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",{className:"contained"},r.a.createElement("h4",null,"Oops!"),r.a.createElement("p",null,"You have no beneficiary. Why not start by the beginning ?"),r.a.createElement("p",null,r.a.createElement("a",{href:"#step2",onClick:this.onGoToPreviousStepPress},"Go to the first step")))}}]),t}(r.a.Component),J=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onNextStepPress=function(){a._checkTicketsData()&&a.props.nextStep()},a.onResetPress=function(){window.location.replace("/ticketing")},a.onModalClose=function(){a.setState({showErrors:!1})},a._checkTicketsData=function(){var e=a.props.tickets,t=a.props.bookingInfo,n=[];e.length!==parseInt(t.visitorsNumber,10)&&n.push("You have "+t.visitorsNumber+" visitors but you only provided "+e.length+" tickets");for(var r=0;r<e.length;r++){var o=e[r];o.firstName&&""!==o.firstName||n.push("Beneficiary #"+(r+1)+": Each visitor must have a first name"),o.lastName&&""!==o.lastName||n.push("Beneficiary #"+(r+1)+": Each visitor must have a last name"),o.birthDate||n.push("Beneficiary #"+(r+1)+": Each visitor must have a birth date"),o.country&&""!==o.country||n.push("Beneficiary #"+(r+1)+": Each visitor must have a country"),void 0===o.reduction&&n.push("Beneficiary #"+(r+1)+": For each visitor, please tell us if they are eligible for reduced price.")}return!(n.length>0)||(a.setState({errors:n,showErrors:!0}),!1)},a.state={birthDate:new Date,showErrors:!1,errors:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.bookingInfo.visitorsNumber?parseInt(this.props.bookingInfo.visitorsNumber,10):0;return r.a.createElement("div",{className:"step"},r.a.createElement("h2",null,e&&e>1?"Beneficiaries":"Beneficiary"),e>0?Object(U.a)(Array(e)).map(function(e,t){return r.a.createElement(H,{key:t,beneficiaryNumber:t+1,index:t})}):r.a.createElement(W,{goToPrevious:this.props.previousStep}),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary",style:{width:"100%",marginBottom:10},onClick:this.onNextStepPress},"Recap"),r.a.createElement("button",{className:"btn btn-secondary",style:{width:"100%"},onClick:this.onResetPress},"Reset order")),r.a.createElement(M,{show:this.state.showErrors,onClose:this.onModalClose,errors:this.state.errors}))}}]),t}(r.a.Component),V=Object(p.b)(function(e){return e})(J),z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onResetPress=function(){window.location.replace("/ticketing")},a.onNextStepPress=function(){var e={bookingInfo:a.props.bookingInfo,tickets:a.props.tickets};a.setState({isLoading:!0}),R.post("/order",e).then(function(e){if(200===e.status&&200===e.data.code){var t=e.data.data.bookingReference,n=e.data.data.totalPrice;console.log(t),console.log(n),a.updateReference(t),a.updateBookingPrice(n),a.props.nextStep()}a.setState({isLoading:!1})}).catch(function(e){console.error("An error happened during the POST"),console.error(e),a.setState({isLoading:!1})})},a.calcPrice=function(e){var t=new Date(e.birthDate),n=a._calculateAge(t),r=e.reduction,o=a.props.bookingInfo.ticketType;return isNaN(n)||"half"!==o&&"full"!==o?0:n<4?0:n<12?"half"===o?4:8:n<60?r?"half"===o?5:10:"half"===o?8:16:n>=60?r?"half"===o?5:10:"half"===o?6:12:void 0},a.updateReference=function(e){var t={type:"UPDATE_BOOKING_REFERENCE",value:e};a.props.dispatch(t)},a.updateBookingPrice=function(e){var t={type:"UPDATE_BOOKING_PRICE",value:e};a.props.dispatch(t)},a._calculateAge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,a=t.getFullYear(),n=t.getMonth(),r=t.getDate(),o=e.getFullYear(),i=e.getMonth(),s=e.getDate(),l=a-o,c=n-i;return(c<0||0===c&&r-s<0)&&(l=parseInt(l)-1),l},a.state={totalPrice:0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){for(var e=this.props.tickets,t=0,a=0;a<e.length;a++){var n=e[a];t+=this.calcPrice(n)}t!==this.state.totalPrice&&this.setState({totalPrice:t})}},{key:"componentWillUpdate",value:function(){for(var e=this.props.tickets,t=0,a=0;a<e.length;a++){var n=e[a];t+=this.calcPrice(n)}t!==this.state.totalPrice&&this.setState({totalPrice:t})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"step"},r.a.createElement("h2",{className:"step-title"},"Recap"),r.a.createElement("p",null,"You will find here all the recap of your order. Please be sure everything is ok before paying."),r.a.createElement("div",{className:"contained"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Identity"),r.a.createElement("th",{scope:"col",className:"custom-mobile-hidden"},"Ticket type"),r.a.createElement("th",{scope:"col",className:"custom-mobile-hidden"},"Reduced Price"),r.a.createElement("th",{scope:"col"},"Cost"))),r.a.createElement("tbody",null,this.props.tickets.map(function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("th",{scope:"row"},a+1),r.a.createElement("td",null,t.firstName," ",t.lastName.toUpperCase()),r.a.createElement("td",{className:"custom-mobile-hidden"},"half"===e.props.bookingInfo.ticketType?"Half day":"Full day"),r.a.createElement("td",{className:"custom-mobile-hidden"},t.reduction?"yes":"no"),r.a.createElement("td",null,e.calcPrice(t)+" \u20ac"))}))),r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Number of tickets"),r.a.createElement("th",{scope:"col"},"Total Price (VAT included)"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,this.props.tickets.length),r.a.createElement("td",null,this.state.totalPrice," \u20ac"))))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary",style:{width:"100%",marginBottom:10},onClick:this.onNextStepPress},this.state.isLoading?r.a.createElement(I.Dots,{color:"white"}):"Order"),r.a.createElement("button",{className:"btn btn-secondary",style:{width:"100%"},onClick:this.onResetPress},"Reset order")))}}]),t}(r.a.Component),Q=Object(p.b)(function(e){return e})(z),Z=a(30),$=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onClose=function(){window.location.replace("/")},a.state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(w.a,{open:this.props.show,onClose:this.props.onClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(S.a,{id:"alert-dialog-title"},"An error occured during the transaction"),r.a.createElement(D.a,null,r.a.createElement(P.a,{id:"alert-dialog-description"},this.props.errorText)),r.a.createElement(C.a,null,r.a.createElement(j.a,{onClick:this.props.onClose,color:"primary"},"OK")))}}]),t}(r.a.Component),X=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onClose=function(){window.location.replace("/")},a.state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(w.a,{open:this.props.show,onClose:this.onClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(S.a,{id:"alert-dialog-title"},"Congratulations !"),r.a.createElement(D.a,null,r.a.createElement(P.a,{id:"alert-dialog-description"},"Your order has been registered. You will receive an email at ",r.a.createElement("b",null,"vmm1996@gmail.com")," with all of your tickets.",r.a.createElement("br",null),"Welcome to Paris!")),r.a.createElement(C.a,null,r.a.createElement(j.a,{onClick:this.onClose,color:"primary"},"OK")))}}]),t}(r.a.Component),ee=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onCloseErrorModal=function(){a.setState({showErrorModal:!1})},a.onPayPress=function(){console.log(a.props),console.log("Je suis la bookingRef"),console.log(a.props.bookingRef),a.setState({isLoading:!0}),a.props.stripe.createToken().then(function(e){console.log(e),R.post("/pay",{token:e.token.id,bookingRef:a.props.bookingRef}).then(function(e){console.log("Le paiement a \xe9t\xe9 effectu\xe9 !"),console.log(e),200===e.status?a.setState({showSuccessModal:!0}):a.setState({showErrorModal:!0,errorText:"An error occured during the payment. Please retry."}),a.setState({isLoading:!1})}).catch(function(e){console.warn("Une erreur est survenue durant le paiement"),console.error(e),a.setState({showErrorModal:!0,errorText:"An error occured during the payment. Please try with another card."}),a.setState({isLoading:!1})})}).catch(function(e){console.warn("Une erreur est survenue durant l'obtention du jeton"),console.error(e),a.setState({showErrorModal:!0,errorText:"You didn't fill all the fields. Please verify that all the fields are correctly filled."}),a.setState({isLoading:!1})})},a.state={isLoading:!1,showErrorModal:!1,showSuccessModal:!1,errorText:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"checkout"},r.a.createElement(Z.CardElement,null),r.a.createElement("small",null,"We will never store our credit cards credentials and all your payment is secured by ",r.a.createElement("a",{target:"_blank",href:"https://stripe.com/"},"Stripe Inc\xae"),"."),r.a.createElement("button",{id:"payButton",style:{width:"100%"},className:"btn btn-primary",onClick:this.onPayPress},this.state.isLoading?r.a.createElement(I.Dots,{color:"white"}):"Pay"),r.a.createElement(X,{show:this.state.showSuccessModal}),r.a.createElement($,{show:this.state.showErrorModal,errorText:this.state.errorText,onClose:this.onCloseErrorModal}))}}]),t}(r.a.Component),te=Object(p.b)(function(e){return e})(Object(Z.injectStripe)(ee)),ae=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onPreviousStepPress=function(){},a.onPayPress=function(){console.log(a.props)},a.onNextStep=function(){a.props.nextStep()},a.state={isLoading:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"step"},r.a.createElement("h2",{className:"step-title"},"Payment"),r.a.createElement("div",{className:"alert alert-info",role:"alert"},"You are about to pay an amount of ",r.a.createElement("b",null,this.props.bookingPrice," \u20ac")),r.a.createElement("div",{className:"contained"},r.a.createElement(Z.Elements,null,r.a.createElement(te,{bookingRef:this.props.bookingReference}))))}}]),t}(r.a.Component),ne=Object(p.b)(function(e){return e})(ae),re=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"step"},r.a.createElement("h2",{className:"step-title"},"Congratulations !"),r.a.createElement("p",{style:{textAlign:"justify"}},"Your order has been approved ! An email has been sent to ",r.a.createElement("b",null,this.props.bookingInfo.orderMailing)," with all your tickets. The Louvre Museum wishes you a good visit."))}}]),t}(r.a.Component),oe=Object(p.b)(function(e){return e})(re),ie=(a(131),function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,{store:v},r.a.createElement("div",{className:"App"},r.a.createElement(Z.StripeProvider,{apiKey:"pk_test_QkFyij1dZVbhBHCd0kDHka3j00kv9xS8RK"},r.a.createElement(d.a,{className:"contained",isHashEnabled:!0,isLazyMount:!0},r.a.createElement(F,null),r.a.createElement(V,null),r.a.createElement(Q,null),r.a.createElement(Z.Elements,null,r.a.createElement(ne,null)),r.a.createElement(oe,null)))))}}]),t}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},85:function(e,t,a){e.exports=a(132)},92:function(e,t,a){}},[[85,1,2]]]);
//# sourceMappingURL=main.724417d2.chunk.js.map