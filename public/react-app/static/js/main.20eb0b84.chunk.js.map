{"version":3,"sources":["store/reducers/globalReducer.js","store/configureStore.js","components/DefaultStep.js","components/ErrorsModal.js","http/Hermes.js","components/FirstStep.js","components/BeneficiaryForm.js","components/NoBeneficiary.js","components/SecondStep.js","components/ThirdStep.js","components/ErrorModal.js","components/SuccessModal.js","components/PayForm.js","components/FourthStep.js","components/ThankYouStep.js","App.js","serviceWorker.js","index.js"],"names":["initialState","bookingInfo","tickets","orderInfo","bookingReference","bookingPrice","globalReducer","state","arguments","length","undefined","action","type","Object","objectSpread","value","index","createStore","React","Component","ErrorsModal","react_default","a","createElement","Dialog","open","this","props","show","onClose","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","DialogContentText","List","errors","map","email","ListItem","button","key","ListItemText","primary","DialogActions","Button","onClick","color","Hermes","_url","_cache","_isDebugMode","get","uri","sFullUrl","Promise","fnResolve","fnReject","fetch","method","headers","Access-Control-Allow-Origin","Accept","Content-Type","then","response","console","log","json","data","catch","err","post","axios","JSON","stringify","res","error","put","body","parsedData","patch","delete","getCache","FirstStep","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","onNextStepPress","setState","isLoading","oBooking","date","visitorsNumber","NaN","parseInt","ticketType","orderMailing","orderMailingConfirm","_checkBooking","dateIsEnabled","_registerBookingInfo","_registerTickets","nextStep","dateIsntAvailableAnymore","alert","onErrorsModalClose","showErrors","isHalfEnabled","ticketDate","Date","getDate","currentDate","currentHours","getHours","booking","dispatch","aTickets","i","push","aErrors","_ckeckBookingDate","_isEmailValid","getDay","getMonth","EmailValidator","validate","_this2","className","build_default","data-enable-time","disableMobile","placeholder","options","dateFormat","enableTime","disable","setDate","onChange","style","textAlign","e","target","disabled","required","width","marginBottom","dist_react_activity","components_ErrorsModal","connect","BeneficiaryForm","onFormChanged","_ref","asyncToGenerator","regenerator_default","mark","_callee","field","wrap","_context","prev","next","t0","firstName","_updateStore","abrupt","lastName","birthDate","country","reduction","stop","_x","_x2","apply","beneficiaryNumber","maxLength","checked","NoBeneficiary","onGoToPreviousStepPress","preventDefault","goToPrevious","href","SecondStep","_checkTicketsData","onResetPress","window","location","replace","onModalClose","oBookingInfo","oTicket","iVisitorsNumber","toConsumableArray","Array","components_BeneficiaryForm","components_NoBeneficiary","previousStep","ThirdStep","oBody","status","code","bookingRef","totalPrice","updateReference","updateBookingPrice","calcPrice","ticket","dBirthDate","age","_calculateAge","sBookingType","isNaN","dateOfBirth","dateToCalculate","calculateYear","getFullYear","calculateMonth","calculateDay","birthYear","birthMonth","birthDay","ageMonth","iTotalPrice","scope","toUpperCase","ErrorModal","errorText","SuccessModal","PayForm","onCloseErrorModal","showErrorModal","onPayPress","stripe","createToken","token","showSuccessModal","warn","react_stripe_elements_es","components_SuccessModal","components_ErrorModal","injectStripe","FourthStep","onPreviousStepPress","onNextStep","role","components_PayForm","ThankYouStep","App","es","store","Store","apiKey","react_step_wizard_min_default","isHashEnabled","isLazyMount","components_FirstStep","components_SecondStep","components_ThirdStep","components_FourthStep","components_ThankYouStep","Boolean","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.20eb0b84.chunk.js","sourcesContent":["const initialState = {\r\n    bookingInfo:{},\r\n    tickets:[],\r\n    orderInfo:{},\r\n    bookingReference:'',\r\n    bookingPrice:0\r\n}\r\n\r\nfunction globalReducer(state = initialState, action) {\r\n  let nextState;\r\n  switch (action.type) {\r\n    case 'UPDATE_BOOKING_INFO':\r\n        nextState = {\r\n          ...state,\r\n          bookingInfo:action.value\r\n        };\r\n    return nextState;\r\n    case 'UPDATE_TICKETS':\r\n        nextState = {\r\n          ...state,\r\n          tickets:action.value\r\n        };\r\n    return nextState;\r\n    case 'UPDATE_ORDER_INFO':\r\n        nextState = {\r\n          ...state,\r\n          orderInfo:action.value\r\n        };\r\n    return nextState;\r\n    case 'UPDATE_BOOKING_REFERENCE':\r\n        nextState = {\r\n          ...state,\r\n          bookingReference:action.value\r\n        };\r\n    return nextState;\r\n    case 'UPDATE_BOOKING_PRICE':\r\n        nextState = {\r\n          ...state,\r\n          bookingPrice:action.value\r\n        };\r\n    return nextState;\r\n    case 'UPDATE_TICKET':\r\n        let tickets = state.tickets;\r\n        tickets[action.value.index] = action.value.value;\r\n        \r\n        nextState = {\r\n          ...state,\r\n          tickets:tickets\r\n        }\r\n        return nextState;\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default globalReducer;","import { createStore } from 'redux';\r\nimport globalReducer from './reducers/globalReducer';\r\n\r\nexport default createStore(globalReducer);","import React from 'react';\r\n\r\nclass DefaultStep extends React.Component {\r\n    render () {\r\n        return (\r\n            <div>\r\n                <h2>Step {this.props.currentStep}</h2>\r\n                <p>Total Steps: {this.props.totalSteps}</p>\r\n                <p>Is Active: {this.props.isActive}</p>\r\n                <p><button onClick={this.props.previousStep}>Previous Step</button></p>\r\n                <p><button onClick={this.props.nextStep}>Next Step</button></p>\r\n                <p><button onClick={()=>this.props.goToStep(2)}>Step 2</button></p>\r\n                <p><button onClick={this.props.firstStep}>First Step</button></p>\r\n                <p><button onClick={this.props.lastStep}>Last Step</button></p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DefaultStep;","import React from \"react\";\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n\r\nclass ErrorsModal extends React.Component {\r\n\r\n    render () {\r\n        return (\r\n        <Dialog\r\n            open={this.props.show}\r\n            onClose={this.props.onClose}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\">\r\n            <DialogTitle id=\"alert-dialog-title\">You must provide all the fields</DialogTitle>\r\n            <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">\r\n                It looks like you didn't provide all necessary informations belonging to the tickets you want to afford. Please try to fix theses points :\r\n            </DialogContentText>\r\n            <List>\r\n                {this.props.errors.map(email => (\r\n                <ListItem button key={email}>\r\n                    <ListItemText primary={email} />\r\n                </ListItem>\r\n                ))}\r\n            </List>\r\n            </DialogContent>\r\n            <DialogActions>\r\n            <Button onClick={this.props.onClose} color=\"primary\">\r\n                OK\r\n            </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ErrorsModal","import axios from 'axios';\r\n/**\r\n * Petit client Http permettant de gérer les requêtes\r\n * Ainsi que la mise en cache des données.\r\n * Très utile et réutilisable.\r\n * A consommer...sans modération !\r\n * \r\n * MIT Licence - Victor MAHE 2019\r\n */\r\nconst Hermes = {\r\n    // _url:'http://localhost:8000',\r\n    _url:'',\r\n    _cache:{},\r\n    _isDebugMode:false,\r\n    /**\r\n     * @public\r\n     * Fait un appel fetch() en method GET\r\n     * @String url L'url du point d'API\r\n     * @Object data La donnée au format Objet à envoyer\r\n     * @return {Object}\r\n     */\r\n    get: function (uri) {\r\n        let sFullUrl = this._url + uri;\r\n        return new Promise(function(fnResolve, fnReject) {\r\n            fetch(sFullUrl, {\r\n                method: 'GET',\r\n                headers:{\r\n                    'Access-Control-Allow-Origin':'*',\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            }).then((response) => {\r\n                console.log(response);\r\n                response.json().then((data) => {\r\n                    console.log(data);\r\n                    fnResolve(data);\r\n                }).catch((err) => {\r\n                    fnReject(err);\r\n                });\r\n            }).catch((err) => {\r\n                fnReject(err);\r\n            });\r\n        });\r\n    },\r\n    /**\r\n     * @public\r\n     * Fait un appel fetch() en method POST\r\n     * @String uri L'uri du point d'API\r\n     * @Object data La donnée au format Objet à envoyer\r\n     * @return {Object}\r\n     */\r\n    post: function (uri, data) {\r\n        let sFullUrl = this._url + uri;\r\n        return new Promise(function(fnResolve, fnReject) {\r\n            axios.post(sFullUrl, JSON.stringify(data)).then(res => {\r\n                console.log(res);\r\n                fnResolve(res);\r\n            }).catch(err => {\r\n                console.error(err);\r\n                fnReject(err);\r\n            })\r\n        });\r\n    },\r\n    /**\r\n     * @public\r\n     * Fait un appel fetch() en method PUT\r\n     * @String uri L'uri du point d'API\r\n     * @Object data La donnée au format Objet à envoyer\r\n     * @return {Object}\r\n     */\r\n    put: function (uri, data) {\r\n        console.log(data);\r\n        let sFullUrl = this._url + uri;\r\n        console.log(sFullUrl);\r\n        return new Promise(function(fnResolve, fnReject) {\r\n            fetch(sFullUrl, {\r\n                method: 'PUT',\r\n                headers:{\r\n                    'Accept': 'application/json, text/plain, */*',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body:JSON.stringify(data)\r\n            }).then((response) => {\r\n                console.log(response);\r\n                response.json().then((parsedData) => {\r\n                    fnResolve(parsedData);\r\n                }).catch((err) => {\r\n                    fnReject(err);\r\n                });\r\n            }).catch((err) => {\r\n                fnReject(err);\r\n            });\r\n        });\r\n    },\r\n    /**\r\n     * @public\r\n     * Fait un appel fetch() en method PUT\r\n     * @String uri L'uri du point d'API\r\n     * @Object data La donnée au format Objet à envoyer\r\n     * @return {Object}\r\n     */\r\n    patch: function (uri, data) {\r\n        let sFullUrl = this._url + uri;\r\n        return new Promise(function(fnResolve, fnReject) {\r\n            fetch(sFullUrl, {\r\n                method: 'PATCH',\r\n                headers:{\r\n                    'Accept': 'application/json, text/plain, */*',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body:JSON.stringify(data)\r\n            }).then((response) => {\r\n                console.log(response);\r\n                response.json().then((parsedData) => {\r\n                    fnResolve(parsedData);\r\n                }).catch((err) => {\r\n                    fnReject(err);\r\n                });\r\n            }).catch((err) => {\r\n                fnReject(err);\r\n            });\r\n        });\r\n    },\r\n    /**\r\n     * @public\r\n     * Fait un appel fetch() en method PATCH\r\n     * @String uri L'uri du point d'API\r\n     * @Object data La donnée au format Objet à envoyer\r\n     * @return {Object}\r\n     */\r\n    delete: function (uri, data) {\r\n        let sFullUrl = this._url + uri;\r\n        return new Promise(function(fnResolve, fnReject) {\r\n            fetch(sFullUrl, {\r\n                method: 'DELETE',\r\n                headers:{\r\n                    'Accept': 'application/json, text/plain, */*',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body:JSON.stringify(data)\r\n            }).then((response) => {\r\n                console.log(response);\r\n                response.json().then((parsedData) => {\r\n                    fnResolve(parsedData);\r\n                }).catch((err) => {\r\n                    fnReject(err);\r\n                });\r\n            }).catch((err) => {\r\n                fnReject(err);\r\n            });\r\n        });\r\n    },\r\n    getCache: function () {\r\n        return this._cache;\r\n    }\r\n}\r\n\r\nexport default Hermes;","import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport EmailValidator from 'email-validator';\r\n\r\nimport Flatpickr from 'react-flatpickr';\r\nimport ErrorsModal from './ErrorsModal';\r\nimport { Dots } from 'react-activity';\r\nimport Hermes from '../http/Hermes';\r\n\r\nclass FirstStep extends React.Component {\r\n    constructor (props) {\r\n        super(props);\r\n        this.state = {\r\n            date:new Date(),\r\n            visitorsNumber:0,\r\n            ticketType:\"half\",\r\n            orderMailing:\"\",\r\n            orderMailingConfirm:\"\",\r\n            showErrors:false,\r\n            errors:[],\r\n            isLoading:false\r\n        };\r\n    }\r\n\r\n    onNextStepPress = () => {\r\n        this.setState({isLoading:true});\r\n        let oBooking = {\r\n            date:this.state.date,\r\n            visitorsNumber:(this.state.visitorsNumber !== 0 && this.state.visitorsNumber !== NaN && this.state.visitorsNumber !== \"\" && this.state.visitorsNumber > 0) ? parseInt(this.state.visitorsNumber, 10) : false,\r\n            ticketType:this.state.ticketType,\r\n            orderMailing:this.state.orderMailing,\r\n            orderMailingConfirm:this.state.orderMailingConfirm\r\n        }\r\n        if(this._checkBooking(oBooking)) {\r\n            // On vérifie qu'il reste des places à la date donnée\r\n            Hermes.post('/dateisavaiable', {date:oBooking.date}).then(res => {\r\n                let bDateIsEnabled = res.data.data.dateIsEnabled;\r\n                if(bDateIsEnabled) {\r\n                    this._registerBookingInfo(oBooking)\r\n                    this._registerTickets(oBooking.visitorsNumber);\r\n                    this.props.nextStep()\r\n                } else {\r\n                    this.dateIsntAvailableAnymore();\r\n                }\r\n                this.setState({isLoading:false});\r\n            }).catch(err => {\r\n                this.setState({isLoading:false});\r\n                console.error(\"Erreur survenue dans POST /dateisavailable\");\r\n                console.error(err);\r\n            });\r\n        } else {\r\n            this.setState({isLoading:false});\r\n        }\r\n    }\r\n\r\n    dateIsntAvailableAnymore = () => {\r\n        alert(\"Sorry. There is no places anymore for that date. Please chose another one. Thank you.\")\r\n    }\r\n\r\n    onErrorsModalClose = () => {\r\n        this.setState({showErrors:false})\r\n    }\r\n\r\n    isHalfEnabled = () => {\r\n        let ticketDate = new Date(this.state.date).getDate(),\r\n            currentDate = new Date().getDate(),\r\n            currentHours = new Date().getHours();\r\n        \r\n        if(ticketDate === currentDate && currentHours >= 11) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    _registerBookingInfo = (booking) => {\r\n        const action = {\r\n            type:'UPDATE_BOOKING_INFO',\r\n            value:booking\r\n        };\r\n        this.props.dispatch(action);\r\n    }\r\n\r\n    _registerTickets = (visitorsNumber) => {\r\n        const aTickets = [];\r\n        for(let i = 0; i < visitorsNumber ; i++) {\r\n            aTickets.push({});\r\n        }\r\n        const action = {\r\n            type:'UPDATE_TICKETS',\r\n            value:aTickets\r\n        };\r\n        this.props.dispatch(action);\r\n    }\r\n\r\n    _checkBooking = (oBooking) => {\r\n        let aErrors = [];\r\n        if(!this._ckeckBookingDate(oBooking.date)) {\r\n            aErrors.push(\"Visit date is invalid\");\r\n        }\r\n        if(oBooking.visitorsNumber <= 0) {\r\n            aErrors.push(\"Visitors number is invalid\");\r\n        }\r\n        if(oBooking.ticketType === \"\") {\r\n            aErrors.push(\"Ticket type is invalid\");\r\n        }\r\n        if(oBooking.orderMailing === \"\" || this._isEmailValid(oBooking.orderMailing) === false) {\r\n            aErrors.push(\"Order email is invalid\");\r\n        }\r\n        if(oBooking.orderMailingConfirm !== oBooking.orderMailing) {\r\n            aErrors.push(\"You didn't type the same email address\");\r\n        }\r\n\r\n        if(aErrors.length > 0) {\r\n            this.setState({errors:aErrors, showErrors:true})\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    _ckeckBookingDate = (date) => {\r\n        date = new Date(date)\r\n        if(date.getDay() === 0 || date.getDay() === 2 || (date.getDate() === 1 && date.getMonth() === 4) || (date.getDate() === 1 && date.getMonth() === 10) || (date.getDate() === 25 && date.getMonth() === 11) || (date.getDate() === 1 && date.getMonth() === 0) || (date.getDate() === 11 && date.getMonth() === 10) || (date.getDate() === 14 && date.getMonth() === 6) || (date < new Date ()) && date.getDate() !== new Date().getDate()) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    _isEmailValid = (email) => {\r\n        return EmailValidator.validate(email);\r\n    } \r\n\r\n    render () {\r\n        return (\r\n            <div className=\"step\">\r\n                <h2>Booking</h2>\r\n                <div className=\"form-group\">\r\n                    <label className=\"form-control-label required\">Visit date</label>\r\n                    <Flatpickr data-enable-time\r\n                        id=\"visitDateInput\"\r\n                        disableMobile={true}\r\n                        placeholder=\"Please select a date for your visit\"\r\n                        options={{dateFormat:\"d/m/Y\", enableTime:false, disable:[function (date) {return (date.getDay() === 0 || date.getDay() === 2 || (date.getDate() === 1 && date.getMonth() === 4) || (date.getDate() === 1 && date.getMonth() === 10) || (date.getDate() === 25 && date.getMonth() === 11) || (date.getDate() === 11 && date.getMonth() === 10) || (date.getDate() === 1 && date.getMonth() === 0) || (date.getDate() === 14 && date.getMonth() === 6) || (date < new Date(new Date().setDate(new Date().getDate()-1))));}]}}\r\n                        className=\"form-control\"\r\n                        value={this.state.date}\r\n                        onChange={date => {this.setState({date:new Date(date)}) }} />\r\n                    <small className=\"form-text text-muted\" style={{textAlign:\"justify\"}}>Booking not available on sundays. Closed on Tuesdays, the 1st of May, the 1st of November et le 25th of December.</small>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label className=\"form-control-label required\">Number of visitors</label>\r\n                    <input type=\"number\" className=\"form-control\"\r\n                    value={this.state.visitorsNumber}\r\n                    onChange={(e) => {this.setState({visitorsNumber:e.target.value})}}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label className=\"form-control-label required\">Ticket type</label>\r\n                    <select className=\"form-control\"\r\n                    value={this.state.ticketType}\r\n                    onChange={e => this.setState({ticketType:e.target.value})}>\r\n                        <option value=\"half\" >Half-Day</option>\r\n                        <option value=\"full\" disabled={this.state.date.getDate() === new Date().getDate() && new Date().getHours() >= 14 ? true : false}>Full Day</option>\r\n                    </select>\r\n                    <small className=\"form-text text-muted\" style={{textAlign:\"justify\"}}>The \"Half-Day\" ticket is only valid from 2pm. Note that you cannot afford a Full-Day ticket from 2pm.</small>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label className=\"form-control-label required\">Mailing address of receipt for the ticket(s)</label>\r\n                    <input type=\"email\" className=\"form-control\" value={this.state.orderMailing} required\r\n                    onChange={e => this.setState({orderMailing:e.target.value})}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label className=\"form-control-label required\">Confirm the email address</label>\r\n                    <input type=\"email\" className=\"form-control\" required\r\n                    onChange={e => this.setState({orderMailingConfirm:e.target.value})}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <button className=\"btn btn-primary\" style={{width:\"100%\", marginBottom:10}} onClick={this.onNextStepPress}>{this.state.isLoading ? <Dots color=\"white\" /> : \"Next\"}</button>\r\n                </div>\r\n                <ErrorsModal show={this.state.showErrors} onClose={this.onErrorsModalClose} errors={this.state.errors}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(state => state) (FirstStep);","import React from \"react\"\r\nimport Flatpickr from \"react-flatpickr\"\r\nimport {connect} from 'react-redux'\r\n\r\n/**\r\n * Composant BeneficiaryForm\r\n * @Props {Int} beneficiaryNumber \r\n * @Props {index} The index of the Beneficiary associated object in the global store\r\n */\r\nclass BeneficiaryForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            firstName:\"\",\r\n            lastName:\"\",\r\n            birthDate:new Date(),\r\n            country:\"\",\r\n            reduction:false\r\n        }\r\n    }\r\n\r\n    onFormChanged = async (field, value) => {\r\n        switch(field) {\r\n            case \"firstName\":\r\n                this.setState({firstName:value}, () => {\r\n                    this._updateStore()\r\n                })\r\n            break;\r\n            case \"lastName\":\r\n                this.setState({lastName:value}, () => {\r\n                    this._updateStore()\r\n                })\r\n            break;\r\n            case \"birthDate\":\r\n                this.setState({birthDate:value}, () => {\r\n                    this._updateStore()\r\n                })\r\n            break;\r\n            case \"country\":\r\n                this.setState({country:value}, () => {\r\n                    this._updateStore()\r\n                })\r\n            break;\r\n            case \"reduction\":\r\n                this.setState({reduction:!this.state.reduction}, () => {\r\n                    this._updateStore()\r\n                })\r\n            break;\r\n            default:\r\n            return;\r\n        }\r\n    }\r\n\r\n    _updateStore = () => {\r\n        const action = {\r\n            type:\"UPDATE_TICKET\",\r\n            value:{\r\n                index:this.props.index,\r\n                value:this.state\r\n            }\r\n        }\r\n        this.props.dispatch(action);\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div className=\"contained\">\r\n                <h5>Beneficiary #{this.props.beneficiaryNumber}</h5>\r\n                <div className=\"form-group\">\r\n                    <label className=\"form-control-label required\">First name</label>\r\n                    <input \r\n                        type=\"text\" \r\n                        maxLength=\"35\" \r\n                        className=\"form-control\"\r\n                        value={this.state.firstName}\r\n                        onChange={(e) => this.onFormChanged(\"firstName\", e.target.value) }/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label className=\"form-control-label required\">Last Name</label>\r\n                    <input \r\n                        type=\"text\" \r\n                        maxLength=\"35\" \r\n                        className=\"form-control\"\r\n                        value={this.state.lastName}\r\n                        onChange={(e) => this.onFormChanged(\"lastName\", e.target.value) }/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label className=\"form-control-label required\">Birth date</label>\r\n                    <Flatpickr data-enable-time\r\n                        id=\"birthDateInput\"\r\n                        disableMobile={true}\r\n                        placeholder=\"We never forgot any birthday\"\r\n                        options={{dateFormat:\"d/m/Y\", enableTime:false}}\r\n                        className=\"form-control\"\r\n                        value={this.state.birthDate}\r\n                        onChange={(date) => this.onFormChanged(\"birthDate\", date) } />\r\n                    <small className=\"form-text text-muted\">We'll never share your informations to thirds.</small>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label className=\"form-control-label required\">Country</label>\r\n                    <input \r\n                        type=\"text\" \r\n                        maxLength=\"35\" \r\n                        className=\"form-control\"\r\n                        value={this.state.country}\r\n                        onChange={(e) => this.onFormChanged(\"country\", e.target.value)}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <div className=\"form-check\">        \r\n                        <input \r\n                            type=\"checkbox\" \r\n                            className=\"form-check-input\" \r\n                            checked={this.state.reduction}\r\n                            onChange={(e) => this.onFormChanged(\"reduction\", e.target.value)}/>\r\n                        <label className=\"form-check-label\">Reduction</label>\r\n                    </div>\r\n                    <small className=\"form-text text-muted\">Upon presentation of justificative at the museum entrance</small>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(state => state) (BeneficiaryForm)\r\n","import React from \"react\";\r\n\r\nclass NoBeneficiary extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    onGoToPreviousStepPress = (e) => {\r\n        e.preventDefault();\r\n        this.props.goToPrevious();\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div className=\"contained\">\r\n                <h4>Oops!</h4>\r\n                <p>You have no beneficiary. Why not start by the beginning ?</p>\r\n                <p><a href=\"#step2\" onClick={this.onGoToPreviousStepPress}>Go to the first step</a></p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NoBeneficiary;","import React from \"react\";\r\nimport {connect} from 'react-redux';\r\nimport BeneficiaryForm from './BeneficiaryForm';\r\nimport NoBeneficiary from './NoBeneficiary';\r\nimport ErrorsModal from './ErrorsModal';\r\n\r\nclass SecondStep extends React.Component {\r\n    constructor (props) {\r\n        super(props)\r\n        this.state = {\r\n            birthDate : new Date(),\r\n            showErrors:false,\r\n            errors:[]\r\n        }\r\n    }\r\n\r\n    onNextStepPress = () => {\r\n        if(this._checkTicketsData()) {\r\n            this.props.nextStep();\r\n        }\r\n    }\r\n\r\n    onResetPress = () => {\r\n        window.location.replace('/ticketing');\r\n    }\r\n\r\n    onModalClose = () => {\r\n        this.setState({showErrors:false})\r\n    }\r\n\r\n    _checkTicketsData = () => {\r\n        /**\r\n         * Protocole de check\r\n         * 1) Je regarde que j'ai bien que tickets.length === bookingInfo.visitorsNumber\r\n         * 2) Si c'est ok je vérifie pour chaque objet que chacun des champs est cohérent\r\n         * 3) Si tout ok, return true. Sinon, return false\r\n         */\r\n        let aTickets = this.props.tickets,\r\n            oBookingInfo = this.props.bookingInfo,\r\n            aErrors = [];\r\n        \r\n        if(aTickets.length !== parseInt(oBookingInfo.visitorsNumber, 10)) {\r\n            aErrors.push(\"You have \" + oBookingInfo.visitorsNumber + \" visitors but you only provided \" + aTickets.length + \" tickets\");\r\n        }\r\n\r\n        for(var i = 0; i < aTickets.length ; i++) {\r\n            let oTicket = aTickets[i];\r\n            if(!oTicket.firstName || oTicket.firstName === \"\") {\r\n                aErrors.push(\"Beneficiary #\" + (i+1) + \": Each visitor must have a first name\");\r\n            }\r\n            if(!oTicket.lastName || oTicket.lastName === \"\") {\r\n                aErrors.push(\"Beneficiary #\" + (i+1) + \": Each visitor must have a last name\");\r\n            }\r\n            if(!oTicket.birthDate) {\r\n                aErrors.push(\"Beneficiary #\" + (i+1) + \": Each visitor must have a birth date\");\r\n            }\r\n            if(!oTicket.country || oTicket.country === \"\") {\r\n                aErrors.push(\"Beneficiary #\" + (i+1) + \": Each visitor must have a country\");\r\n            }\r\n            if(oTicket.reduction === undefined) {\r\n                aErrors.push(\"Beneficiary #\" + (i+1) + \": For each visitor, please tell us if they are eligible for reduced price.\");\r\n            }\r\n        }\r\n\r\n        if(aErrors.length > 0) {\r\n            this.setState({errors:aErrors, showErrors:true})\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n        \r\n    }\r\n\r\n    render () {\r\n        let iVisitorsNumber = this.props.bookingInfo.visitorsNumber ? parseInt(this.props.bookingInfo.visitorsNumber, 10) : 0;\r\n        return (\r\n            <div className=\"step\">\r\n                <h2>{iVisitorsNumber && iVisitorsNumber > 1 ? \"Beneficiaries\" : \"Beneficiary\"}</h2>\r\n                {iVisitorsNumber > 0 ?\r\n                    [...Array(iVisitorsNumber)].map((e, i) => <BeneficiaryForm key={i} beneficiaryNumber={i + 1} index={i} />)\r\n                    : <NoBeneficiary goToPrevious={this.props.previousStep}/>}\r\n                <div className=\"form-group\">\r\n                    <button className=\"btn btn-primary\" style={{width:\"100%\", marginBottom:10}} onClick={this.onNextStepPress}>Recap</button>\r\n                    <button className=\"btn btn-secondary\" style={{width:\"100%\"}} onClick={this.onResetPress}>Reset order</button>\r\n                </div>\r\n                <ErrorsModal show={this.state.showErrors} onClose={this.onModalClose} errors={this.state.errors}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(state => state) (SecondStep);","import React from \"react\";\r\nimport { Dots } from 'react-activity';\r\nimport { connect } from \"react-redux\";\r\nimport Hermes from '../http/Hermes';\r\n\r\nclass ThirdStep extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            totalPrice:0\r\n        }\r\n    }\r\n\r\n    onResetPress = () => {\r\n        window.location.replace('/ticketing');\r\n    }\r\n\r\n    onNextStepPress = () => {\r\n        let oBody = {\r\n            bookingInfo:this.props.bookingInfo,\r\n            tickets:this.props.tickets\r\n        };\r\n        this.setState({isLoading:true});\r\n        Hermes.post('/order', oBody).then((res) => {\r\n            /**\r\n             * Le serveur doit retourner a minima\r\n             * Un code HTTP\r\n             * Dans le body de la réponse : un code de référence + le prix calculé\r\n             * \r\n             */\r\n            if(res.status === 200 && res.data.code === 200) {\r\n                let bookingRef = res.data.data.bookingReference;\r\n                let totalPrice = res.data.data.totalPrice;\r\n                console.log(bookingRef);\r\n                console.log(totalPrice);\r\n                this.updateReference(bookingRef);\r\n                this.updateBookingPrice(totalPrice);\r\n                this.props.nextStep();\r\n            } else {\r\n\r\n            }\r\n            this.setState({isLoading:false})\r\n        }).catch((err) => {\r\n            console.error(\"An error happened during the POST\");\r\n            console.error(err);\r\n            this.setState({isLoading:false})\r\n        })\r\n    }\r\n\r\n    calcPrice = (ticket) => {\r\n        let dBirthDate = new Date(ticket.birthDate);\r\n        let age = this._calculateAge(dBirthDate);\r\n        let reduction = ticket.reduction;\r\n        let sBookingType = this.props.bookingInfo.ticketType;\r\n        let price = 0;\r\n        if(!isNaN(age) && (sBookingType === \"half\" || sBookingType === \"full\")) {\r\n            if(age < 4) {\r\n                return price;\r\n            }\r\n\r\n            if(age < 12) {\r\n                if(sBookingType === \"half\") {\r\n                    return 4;\r\n                } else {\r\n                    return 8;\r\n                }\r\n            }\r\n\r\n            if(age < 60) {\r\n                if(reduction) {\r\n                    if(sBookingType === \"half\") {\r\n                        return 5;\r\n                    } else {\r\n                        return 10;\r\n                    }\r\n                }\r\n                if(sBookingType === \"half\") {\r\n                    return 8;\r\n                } else {\r\n                    return 16;\r\n                }\r\n            }\r\n\r\n            if(age >= 60) {\r\n                if(reduction) {\r\n                    if(sBookingType === \"half\") {\r\n                        return 5;\r\n                    } else {\r\n                        return 10;\r\n                    }\r\n                }\r\n                if(sBookingType === \"half\") {\r\n                    return 6;\r\n                } else {\r\n                    return 12;\r\n                }\r\n            }\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    updateReference = (bookingReference) => {\r\n        const action = {\r\n            type:'UPDATE_BOOKING_REFERENCE',\r\n            value:bookingReference\r\n        };\r\n        this.props.dispatch(action);\r\n    }\r\n\r\n\r\n    updateBookingPrice = (bookingPrice) => {\r\n        const action = {\r\n            type : 'UPDATE_BOOKING_PRICE',\r\n            value:bookingPrice\r\n        };\r\n        this.props.dispatch(action);\r\n    }\r\n\r\n    _calculateAge = (dateOfBirth, dateToCalculate = new Date()) => {\r\n        var calculateYear = dateToCalculate.getFullYear();\r\n        var calculateMonth = dateToCalculate.getMonth();\r\n        var calculateDay = dateToCalculate.getDate();\r\n    \r\n        var birthYear = dateOfBirth.getFullYear();\r\n        var birthMonth = dateOfBirth.getMonth();\r\n        var birthDay = dateOfBirth.getDate();\r\n    \r\n        var age = calculateYear - birthYear;\r\n        var ageMonth = calculateMonth - birthMonth;\r\n        var ageDay = calculateDay - birthDay;\r\n    \r\n        if (ageMonth < 0 || (ageMonth === 0 && ageDay < 0)) {\r\n            age = parseInt(age) - 1;\r\n        }\r\n        return age;\r\n    }\r\n\r\n    componentWillMount () {\r\n        let aTickets = this.props.tickets;\r\n        let iTotalPrice = 0;\r\n\r\n        for(var i =0; i < aTickets.length ; i++) {\r\n            let oTicket = aTickets[i];\r\n            let price = this.calcPrice(oTicket);\r\n            iTotalPrice += price;\r\n        }\r\n        if(iTotalPrice !== this.state.totalPrice) {\r\n            this.setState({totalPrice:iTotalPrice});\r\n        }\r\n    }\r\n\r\n    componentWillUpdate () {\r\n        let aTickets = this.props.tickets;\r\n        let iTotalPrice = 0;\r\n\r\n        for(var i =0; i < aTickets.length ; i++) {\r\n            let oTicket = aTickets[i];\r\n            let price = this.calcPrice(oTicket);\r\n            iTotalPrice += price;\r\n        }\r\n        if(iTotalPrice !== this.state.totalPrice) {\r\n            this.setState({totalPrice:iTotalPrice});\r\n        }\r\n    }\r\n\r\n    render () {\r\n        return (\r\n        <div className=\"step\">\r\n            <h2 className=\"step-title\">Recap</h2>\r\n            <p>You will find here all the recap of your order. Please be sure everything is ok before paying.</p>\r\n            <div className=\"contained\">\r\n                <table className=\"table\">\r\n                    <thead>\r\n                        <tr>\r\n                        <th scope=\"col\">#</th>\r\n                        <th scope=\"col\">Identity</th>\r\n                        <th scope=\"col\" className=\"custom-mobile-hidden\">Ticket type</th>\r\n                        <th scope=\"col\" className=\"custom-mobile-hidden\">Reduced Price</th>\r\n                        <th scope=\"col\">Cost</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {this.props.tickets.map((ticket, i) => <tr key={i}>\r\n                            <th scope=\"row\">{i + 1}</th>\r\n                            <td>{ticket.firstName} {ticket.lastName.toUpperCase()}</td>\r\n                            <td className=\"custom-mobile-hidden\">{this.props.bookingInfo.ticketType === \"half\" ? \"Half day\" : \"Full day\"}</td>\r\n                            <td className=\"custom-mobile-hidden\">{ticket.reduction ? \"yes\" : \"no\"}</td>\r\n                            <td>{this.calcPrice(ticket) + \" €\"}</td>\r\n                        </tr>\r\n                        )}\r\n                    </tbody>\r\n                </table>\r\n                <table className=\"table\">\r\n                    <thead className=\"thead-light\">\r\n                    <tr>\r\n                        <th scope=\"col\">Number of tickets</th>\r\n                        <th scope=\"col\">Total Price (VAT included)</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr>\r\n                        <th>{this.props.tickets.length}</th>\r\n                        <td>{this.state.totalPrice} €</td>\r\n                    </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <button className=\"btn btn-primary\" style={{width:\"100%\", marginBottom:10}} onClick={this.onNextStepPress}>{this.state.isLoading ? <Dots color=\"white\" /> : \"Order\"}</button>\r\n                <button className=\"btn btn-secondary\" style={{width:\"100%\"}} onClick={this.onResetPress}>Reset order</button>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(state => state) (ThirdStep)","import React from \"react\";\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nclass ErrorModal extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    onClose = () => {\r\n        window.location.replace('/');\r\n    }\r\n\r\n    render () {\r\n        return (\r\n        <Dialog\r\n            open={this.props.show}\r\n            onClose={this.props.onClose}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\">\r\n            <DialogTitle id=\"alert-dialog-title\">An error occured during the transaction</DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText id=\"alert-dialog-description\">\r\n                    {this.props.errorText}\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n            <Button onClick={this.props.onClose} color=\"primary\">\r\n                OK\r\n            </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ErrorModal;","import React from \"react\";\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nclass SuccessModal extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    onClose = () => {\r\n        window.location.replace('/');\r\n    }\r\n\r\n    render () {\r\n        return (\r\n        <Dialog\r\n            open={this.props.show}\r\n            onClose={this.onClose}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\">\r\n            <DialogTitle id=\"alert-dialog-title\">Congratulations !</DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText id=\"alert-dialog-description\">\r\n                    Your order has been registered. You will receive an email at <b>vmm1996@gmail.com</b> with all of your tickets.<br/>\r\n                    Welcome to Paris!\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n            <Button onClick={this.onClose} color=\"primary\">\r\n                OK\r\n            </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SuccessModal;","import React from \"react\";\r\nimport { Dots } from 'react-activity';\r\nimport {connect} from 'react-redux';\r\nimport {CardElement, injectStripe} from 'react-stripe-elements';\r\nimport ErrorModal from './ErrorModal';\r\nimport SuccessModal from './SuccessModal';\r\nimport Hermes from '../http/Hermes';\r\n/**\r\n * Pay data :\r\n * Test data\r\n * Creditcard : 4242424242424242\r\n * Date : 03/24\r\n * Crypto : 123\r\n * ZIP Code : 95646\r\n */\r\nclass PayForm extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            isLoading:false,\r\n            showErrorModal:false,\r\n            showSuccessModal:false,\r\n            errorText:\"\"\r\n        }\r\n    }\r\n\r\n    onCloseErrorModal = () => {\r\n        this.setState({showErrorModal:false});\r\n    }\r\n\r\n    onPayPress = () => {\r\n        console.log(\"Je suis la bookingRef\");\r\n        console.log(this.props.bookingRef);\r\n        this.setState({isLoading:true})\r\n        this.props.stripe.createToken().then(res => {\r\n            console.log(res);\r\n            Hermes.post('/pay', {token:res.token.id, bookingRef:this.props.bookingRef}).then(res => {\r\n                console.log(\"Le paiement a été effectué !\");\r\n                console.log(res);\r\n                if(res.status === 200) {\r\n                    this.setState({showSuccessModal:true});\r\n                } else {\r\n                    this.setState({showErrorModal:true, errorText:\"An error occured during the payment. Please retry.\"});\r\n                }\r\n                this.setState({isLoading:false})\r\n            }).catch(err => {\r\n                console.warn(\"Une erreur est survenue durant le paiement\");\r\n                console.error(err);\r\n                this.setState({showErrorModal:true, errorText:\"An error occured during the payment. Please try with another card.\"});\r\n                this.setState({isLoading:false})\r\n            })\r\n        }).catch(error => {\r\n            console.warn(\"Une erreur est survenue durant l'obtention du jeton\");\r\n            console.error(error);\r\n            this.setState({showErrorModal:true, errorText:\"You didn't fill all the fields. Please verify that all the fields are correctly filled.\"});\r\n            this.setState({isLoading:false})\r\n        });\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            \r\n            <div className=\"checkout\">\r\n                <CardElement />\r\n                <small>We will never store our credit cards credentials and all your payment is secured by <a target=\"_blank\" href=\"https://stripe.com/\">Stripe Inc®</a>.</small>\r\n                <button id=\"payButton\" style={{width:\"100%\"}}className=\"btn btn-primary\" onClick={this.onPayPress}>{this.state.isLoading ? <Dots color=\"white\" /> : \"Pay\"}</button>\r\n                <SuccessModal show={this.state.showSuccessModal} />\r\n                <ErrorModal show={this.state.showErrorModal} errorText={this.state.errorText} onClose={this.onCloseErrorModal}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(state => state) (injectStripe(PayForm));","import React from \"react\";\r\nimport {Elements} from 'react-stripe-elements';\r\nimport {connect} from 'react-redux';\r\n\r\nimport PayForm from '../components/PayForm';\r\n\r\nclass FourthStep extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            isLoading:false\r\n        }\r\n    }\r\n\r\n    onPreviousStepPress = () => {\r\n        // this.props.previousStep();\r\n    }\r\n\r\n    onPayPress = () => {\r\n        console.log(this.props);\r\n        // this.props.nextStep();\r\n    }\r\n\r\n    onNextStep = () => {\r\n        this.props.nextStep()\r\n    }\r\n\r\n    render () {\r\n        return (\r\n        <div className=\"step\">\r\n            <h2 className=\"step-title\">Payment</h2>\r\n            <div className=\"alert alert-info\" role=\"alert\">\r\n            You are about to pay an amount of <b>{this.props.bookingPrice} €</b>\r\n            </div>\r\n            <div className=\"contained\">\r\n                <Elements>\r\n                    <PayForm bookingRef={this.props.bookingReference}/>\r\n                </Elements>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nexport default connect(state => state) (FourthStep);","import React from \"react\";\r\nimport { connect } from 'react-redux'\r\n\r\nclass ThankYouStep extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n    render () {\r\n        return (\r\n            <div className=\"step\">\r\n                <h2 className=\"step-title\">Congratulations !</h2>\r\n                <p style={{textAlign:\"justify\"}}>Your order has been approved ! An email has been sent to <b>{this.props.bookingInfo.orderMailing}</b> with all your tickets. The Louvre Museum wishes you a good visit.</p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(state => state ) (ThankYouStep);","import React from 'react';\nimport StepWizard from 'react-step-wizard';\nimport 'flatpickr/dist/themes/airbnb.css'\nimport { Provider } from 'react-redux';\nimport Store from './store/configureStore';\nimport DefaultStep from './components/DefaultStep';\nimport FirstStep from './components/FirstStep';\nimport SecondStep from './components/SecondStep';\nimport ThirdStep from './components/ThirdStep';\nimport FourthStep from './components/FourthStep';\nimport ThankYouStep from './components/ThankYouStep';\n\nimport {Elements, StripeProvider} from 'react-stripe-elements';\n\nimport './App.css';\n\nclass App extends React.Component {\n\n  render () {\n    return (\n      <Provider store={Store}>\n        <div className=\"App\">\n        <StripeProvider apiKey=\"pk_test_QkFyij1dZVbhBHCd0kDHka3j00kv9xS8RK\">\n          <StepWizard className=\"contained\" isHashEnabled={true} isLazyMount={true}>\n            <FirstStep />\n            <SecondStep />\n            <ThirdStep />\n              <Elements>\n                <FourthStep />\n              </Elements>\n            <ThankYouStep />\n          </StepWizard>\n          </StripeProvider>\n        </div>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'react-activity/dist/react-activity.css';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}